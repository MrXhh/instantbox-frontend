{"version":3,"sources":["util/api.js","util/util.js","components/SelectSystemConfig/SelectForm.js","components/SelectSystemConfig/SelectSystemConfig.js","components/SelectSystemConfig/index.js","App.js","serviceWorker.js","index.js"],"names":["axios","defaults","baseURL","interceptors","request","use","config","err","Promise","reject","response","res","data","makeCancelable","promise","hasCanceled_","resolve","then","val","isCanceled","error","cancel","requestUrlList","getOSList","concat","getOS","rmOS","get","getOSUrl","osCode","timeout","cpu","arguments","length","undefined","mem","port","params","os","removeContainerById","containerId","shareUrl","timestamp","Math","floor","Date","getTime","setItem","key","localStorage","getItem","rmItem","removeItem","FormItem","Steps","Step","Card","Meta","Select","Option","Form","Item","rules","required","message","validator","rule","value","callback","test","SelectForm","_React$Component","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","componentDidMount","getForm","form","state","inherits","createClass","getFieldDecorator","formItemLayout","labelCol","span","wrapperCol","react_default","a","createElement","es_form","layout","assign","label","initialValue","input","style","width","placeholder","React","Component","defaultProps","create","SelectSystemConfig","getCurrentStep","isExistContainer","containerInfo","JSON","parse","container","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","setState","loading","p1","sent","t0","abrupt","osList","stop","handleSelectChange","index","selectsObj","obj","handleNextStep","_this$state","currentStep","result","handlePreStep","handlePortChange","event","target","handleGetForm","_form","_values","handleCreate","validateFields","_ref2","_callee2","values","_context2","modalVisible","_x","_x2","apply","handleOk","_callee3","_this$_values","t","_context3","okLoading","filter","item","p2","console","statusCode","open","stringify","okCallback","window","generateStepsContent","steps","content","react","map","classes","classNames","isSelect","card","margin","textAlign","display","height","className","src","logoUrl","alt","es_select","onChange","marginTop","subList","subItem","SelectSystemConfig_Option","SelectSystemConfig_SelectForm","getSystem","_this$state2","selectObj","systemName","systemVersion","find","divider","type","_this$isExistContaine","title","desc","_this2","_this$state3","spin","spinning","current","step","SelectSystemConfig_Step","description","es_button","disabled","onClick","modal","visible","onOk","onCancel","okText","cancelText","SelectSystemConfig_FormItem","toFixed","App","subscribeEvent","typed","Typed","strings","typeSpeed","componentWillUnmount","selected","handleStartClick","handleClose","handleOSSelect","selectedOS","toConsumableArray","i","findIndex","forEach","j","handleOSVersionSelect","selectedVersion","handleSelectAgain","screenLoading","screenText","p3","handleOkCallback","memory","dist_default","bgColor","spinnerColor","textColor","text","marginRight","tooltip","size","color","variant","components_SelectSystemConfig","Boolean","location","hostname","match","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.2f522f72.chunk.js","sourcesContent":["import axios from \"axios\";\n\n// 开发环境\nif (process.env.NODE_ENV === \"development\") {\n  axios.defaults.baseURL = \"http://60.190.81.133:9010/\";\n\n  // 生产环境\n} else if (process.env.NODE_ENV === \"production\") {\n  axios.defaults.baseURL = \"http://60.190.81.133:9010/\";\n}\n\n// 请求拦截\naxios.interceptors.request.use(\n  function(config) {\n    return config;\n  },\n  function(err) {\n    return Promise.reject(err);\n  }\n);\n\n// 响应拦截\naxios.interceptors.response.use(\n  function(res) {\n    const data = res.data;\n    return data;\n    // 加上 message\n    if (data.statusCode === 1) {\n      return data;\n    } else {\n      throw Error(data.message);\n    }\n  },\n  function(err) {\n    return Promise.reject(err);\n  }\n);\n\n/**\n * 使 this.setState() 在异步请求中可以取消调用：https://reactjs.org/blog/2015/12/16/ismounted-antipattern.html\n * @param {promise} promise 请求对象\n */\nexport const makeCancelable = promise => {\n  let hasCanceled_ = false;\n\n  const wrappedPromise = new Promise((resolve, reject) => {\n    promise.then(\n      val => (hasCanceled_ ? reject({ isCanceled: true }) : resolve(val)),\n      error => (hasCanceled_ ? reject({ isCanceled: true }) : reject(error))\n    );\n  });\n  return {\n    promise: wrappedPromise,\n    cancel() {\n      hasCanceled_ = true;\n    }\n  };\n};\nconst apiVersion = \"/v2/superinspire\";\n// 请求列表\nconst requestUrlList = {\n  getOSList: `${apiVersion}/getOSList`,\n  getOS: `${apiVersion}/getOS`,\n  rmOS: `${apiVersion}/rmOS`\n};\n\n/**\n * 获取容器列表\n */\nexport const getOSList = () => {\n  return makeCancelable(axios.get(requestUrlList.getOSList));\n};\n\n/**\n * 获取容器跳转的地址\n */\nexport const getOSUrl = (osCode, timeout, cpu = 1, mem = 0.5, port = 80) => {\n  return makeCancelable(\n    axios.get(requestUrlList.getOS, {\n      params: {\n        os: osCode,\n        timeout,\n        cpu,\n        mem,\n        port\n      }\n    })\n  );\n};\n\n/**\n * 移除容器\n */\nexport const removeContainerById = (\n  containerId,\n  shareUrl,\n  timestamp = Math.floor(new Date().getTime() / 1000)\n) => {\n  return makeCancelable(\n    axios.get(requestUrlList.rmOS, {\n      params: {\n        containerId,\n        shareUrl,\n        timestamp\n      }\n    })\n  );\n};\n","const setItem = (key, val) => {\n  return localStorage.setItem(key, val);\n};\n\nconst getItem = key => {\n  return localStorage.getItem(key);\n};\n\nconst rmItem = key => {\n  return localStorage.removeItem(key);\n};\n\nexport { setItem, getItem, rmItem };\n","import React, { Fragment } from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./SelectSystemConfig.scss\";\nimport classNames from \"classnames\";\nimport {\n  Spin,\n  Steps,\n  Divider,\n  message,\n  Card,\n  Select,\n  Button,\n  Input,\n  Form\n} from \"antd\";\nimport { makeCancelable, getOSList } from \"../../util/api\";\n\nconst Step = Steps.Step;\nconst { Meta } = Card;\nconst Option = Select.Option;\nconst FormItem = Form.Item;\n\nconst rules = {\n  port: [\n    {\n      required: true,\n      message: \"请输入端口号\"\n    },\n    {\n      validator: (rule, value, callback) => {\n        if (\n          (/^\\d+$/g.test(value) && value >= 1 && value <= 65535) ||\n          value === \"\"\n        ) {\n          return callback();\n        }\n        callback(\"端口号格式或范围有误\");\n      },\n      message: \"端口号范围： 1 ~ 65535\"\n    }\n  ],\n  cpu: [\n    {\n      required: true,\n      message: \"请输入 CPU 核数\"\n    },\n    {\n      validator: (rule, value, callback) => {\n        if (\n          (/^\\d+$/g.test(value) && value >= 1 && value <= 4) ||\n          value === \"\"\n        ) {\n          return callback();\n        }\n        callback(\"CPU 格式或范围有误\");\n      },\n      message: \"CPU 范围：1 ~ 4\"\n    }\n  ],\n  mem: [\n    {\n      required: true,\n      message: \"请输入空间大小\"\n    },\n    {\n      validator: (rule, value, callback) => {\n        if (\n          (/^\\d+$/g.test(value) && value >= 1 && value <= 3584) ||\n          value === \"\"\n        ) {\n          return callback();\n        }\n        callback(\"空间大小格式或范围有误\");\n      },\n      message: \"空间大小范围：1 ~ 3584\"\n    }\n  ],\n  timeout: [\n    {\n      required: true,\n      message: \"请输入使用时长\"\n    },\n    {\n      validator: (rule, value, callback) => {\n        if (\n          (/^\\d+$/g.test(value) && value >= 1 && value <= 24) ||\n          value === \"\"\n        ) {\n          return callback();\n        }\n        callback(\"使用时长格式或范围有误\");\n      },\n      message: \"使用时长范围：1 ~ 24\"\n    }\n  ]\n};\n\n/**\n * 填写系统性能参数的表单\n */\nexport class SelectForm extends React.Component {\n  static propTypes = {};\n  static defaultProps = {};\n\n  constructor(props) {\n    super(props);\n\n    this.state = {};\n  }\n\n  componentDidMount = () => {\n    this.props.getForm && this.props.getForm(this.props.form);\n  };\n\n  render() {\n    const { getFieldDecorator } = this.props.form;\n    const formItemLayout = {\n      labelCol: { span: 10 },\n      wrapperCol: { span: 14 }\n    };\n    return (\n      <Form layout=\"horizontal\">\n        <FormItem label=\"端口号\" {...formItemLayout}>\n          {getFieldDecorator(\"port\", {\n            initialValue: \"80\",\n            rules: rules.port\n          })(<Input style={{ width: 200 }} placeholder=\"如：80\" />)}\n        </FormItem>\n        <FormItem label=\"CPU 核数\" {...formItemLayout}>\n          {getFieldDecorator(\"cpu\", {\n            initialValue: \"1\",\n            rules: rules.cpu\n          })(<Input style={{ width: 200 }} placeholder=\"如：1\" />)}\n        </FormItem>\n        <FormItem label=\"空间大小（M）\" {...formItemLayout}>\n          {getFieldDecorator(\"mem\", {\n            initialValue: \"512\",\n            rules: rules.mem\n          })(<Input style={{ width: 200 }} placeholder=\"如：512\" />)}\n        </FormItem>\n        <FormItem label=\"使用时长（h）\" {...formItemLayout}>\n          {getFieldDecorator(\"timeout\", {\n            initialValue: \"24\",\n            rules: rules.timeout\n          })(<Input style={{ width: 200 }} placeholder=\"如：24\" />)}\n        </FormItem>\n      </Form>\n    );\n  }\n}\n\nexport default Form.create()(SelectForm);\n","import React, { Fragment } from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./SelectSystemConfig.scss\";\nimport classNames from \"classnames\";\nimport {\n  Spin,\n  Steps,\n  Divider,\n  message,\n  Card,\n  Select,\n  Button,\n  Input,\n  Form,\n  Modal\n} from \"antd\";\nimport { getOSList, getOSUrl } from \"../../util/api\";\nimport { getItem, setItem } from \"../../util/util\";\nimport SelectForm from \"./SelectForm\";\nconst Step = Steps.Step;\nconst { Meta } = Card;\nconst Option = Select.Option;\nconst FormItem = Form.Item;\nconst formItemLayout = {\n  labelCol: { span: 10 },\n  wrapperCol: { span: 14 }\n};\n/**\n * 选择系统配置\n */\nexport class SelectSystemConfig extends React.Component {\n  static propTypes = {};\n  static defaultProps = {};\n\n  constructor(props) {\n    super(props);\n\n    const currentStep = this.getCurrentStep();\n    const { isExistContainer, container } = this.isExistContainer();\n\n    this.state = {\n      osList: [],\n      loading: false,\n      okLoading: false,\n      currentStep,\n      osCode: 0,\n      selectsObj: [],\n      port: \"80\",\n      modalVisible: false,\n      isExistContainer,\n      container\n    };\n\n    this.steps = [\n      {\n        title: \"系统\",\n        desc: \"选择系统\",\n        content: \"\"\n      },\n      {\n        title: \"性能参数\",\n        desc: \"填写系统性能参数\",\n        content: \"\"\n      }\n    ];\n  }\n\n  componentDidMount = () => {\n    this.getOSList();\n  };\n\n  getCurrentStep = () => {\n    return 0;\n  };\n\n  isExistContainer = () => {\n    let containerInfo = getItem(\"containerInfo\");\n    if (!containerInfo) {\n      return { isExistContainer: false, container: {} };\n    }\n    containerInfo = JSON.parse(containerInfo);\n    const curTime = Math.floor(new Date().getTime() / 1000);\n    // 未过期\n    if (curTime < containerInfo.timeout) {\n      return { isExistContainer: true, container: containerInfo };\n    }\n  };\n\n  getOSList = async () => {\n    this.setState({ loading: true });\n    this.p1 = getOSList();\n    let res;\n    try {\n      res = await this.p1.promise;\n    } catch (err) {\n      return message.error(err.message);\n    }\n    this.setState({ loading: false, osList: res });\n  };\n\n  handleSelectChange = (value, index) => {\n    const selectsObj = [];\n    const obj = {\n      index,\n      osCode: value\n    };\n    selectsObj[index] = obj;\n    this.setState({ selectsObj });\n  };\n\n  handleNextStep = () => {\n    const { currentStep, selectsObj, port } = this.state;\n    if (currentStep === 0) {\n      if (!selectsObj.length) {\n        return message.error(\"请先选择系统和系统版本\");\n      }\n    }\n    if (currentStep === 1) {\n      const result = !/\\d./.test(port);\n\n      if (!port || result) {\n        return message.error(\"请输入正确格式的端口号\");\n      }\n    }\n    this.setState({ currentStep: this.state.currentStep + 1 });\n  };\n\n  handlePreStep = () => {\n    this.setState({ currentStep: this.state.currentStep - 1 });\n  };\n\n  handlePortChange = event => {\n    const value = event.target.value;\n    this.setState({ port: value });\n  };\n\n  handleGetForm = form => {\n    this._form = form;\n  };\n  _values = {};\n  handleCreate = () => {\n    const { validateFields } = this._form;\n    validateFields(async (err, values) => {\n      if (err) {\n        return message.error(\"性能参数有误，请重新填写\");\n      }\n      this.setState({ modalVisible: true });\n      this._values = values;\n    });\n  };\n\n  handleOk = async () => {\n    this.setState({ okLoading: true });\n    const { selectsObj } = this.state;\n    const osCode = selectsObj.filter(item => item)[0].osCode;\n    const { timeout, cpu, mem, port } = this._values;\n    const t = Math.floor(new Date().getTime() / 1000) + timeout * 60 * 60;\n    this.p2 = getOSUrl(osCode, t, cpu, mem, port);\n    if (timeout || cpu || mem || port) {\n      let res;\n      try {\n        res = await this.p2.promise;\n      } catch (err) {\n        return console.error(err);\n      }\n      if (res.shareUrl && res.containerId && res.statusCode) {\n        this.setState({\n          open: false,\n          container: res,\n          isExistContainer: true\n        });\n        setItem(\n          \"containerInfo\",\n          JSON.stringify({\n            shareUrl: res.shareUrl,\n            timeout: t,\n            containerId: res.containerId\n          })\n        );\n        this.props.okCallback(true, {\n          shareUrl: res.shareUrl,\n          timeout: t,\n          containerId: res.containerId\n        });\n        window.open(res.shareUrl);\n      } else {\n        this.setState({ okLoading: false });\n        message.error(\"创建失败\");\n      }\n    }\n  };\n\n  generateStepsContent = () => {\n    this.steps[0].content = (\n      <Fragment>\n        {this.state.osList.map((item, index) => {\n          const { selectsObj } = this.state;\n          let osCode;\n          if (selectsObj[index]) {\n            osCode = selectsObj[index].osCode;\n          }\n          const classes = classNames({\n            isSelect: !!selectsObj[index]\n          });\n          return (\n            <Card key={item.label} style={{ width: 200, margin: \"10px 25px\" }}>\n              <div style={{ textAlign: \"center\" }}>{item.label}</div>\n              <img\n                style={{\n                  display: \"block\",\n                  width: 120,\n                  height: 120,\n                  margin: \"0 auto\"\n                }}\n                className={classes}\n                src={item.logoUrl}\n                alt={item.label}\n              />\n              <Select\n                value={osCode}\n                onChange={value => this.handleSelectChange(value, index)}\n                style={{ width: 182, marginTop: 10 }}\n                placeholder=\"请选择系统版本\"\n              >\n                {item.subList.map(subItem => (\n                  <Option key={subItem.label} value={subItem.osCode}>\n                    {subItem.label}\n                  </Option>\n                ))}\n              </Select>\n            </Card>\n          );\n        })}\n      </Fragment>\n    );\n\n    this.steps[1].content = <SelectForm getForm={this.handleGetForm} />;\n  };\n\n  getSystem = () => {\n    const { selectsObj, osList } = this.state;\n    if (!selectsObj.length || !osList.length) {\n      return;\n    }\n    const selectObj = selectsObj.filter(item => item)[0];\n\n    const subList = osList[selectObj.index].subList;\n    const systemName = osList[selectObj.index].label;\n    const systemVersion = subList.find(\n      item => item.osCode === selectObj.osCode\n    );\n    return (\n      <Fragment>\n        {systemName}\n        <Divider type=\"vertical\" />\n        {systemVersion.label}\n      </Fragment>\n    );\n  };\n\n  render() {\n    const { osList, loading, okLoading, currentStep } = this.state;\n    this.generateStepsContent();\n    return (\n      <Spin spinning={loading}>\n        <div className=\"select-system-config\">\n          <div>\n            <Steps current={currentStep}>\n              {this.steps.map(step => (\n                <Step\n                  key={step.title}\n                  title={step.title}\n                  description={step.desc}\n                />\n              ))}\n            </Steps>\n          </div>\n\n          <Divider />\n\n          <div className=\"select-system-config__step-content\">\n            {this.steps[currentStep].content}\n          </div>\n          <div\n            className=\"\n            select-system-config__steps-action\"\n          >\n            <Button\n              type=\"primary\"\n              disabled={currentStep === 0}\n              onClick={this.handleCreate}\n            >\n              创建\n            </Button>\n            <Button disabled={currentStep === 1} onClick={this.handleNextStep}>\n              下一步\n            </Button>\n\n            <Button disabled={currentStep === 0} onClick={this.handlePreStep}>\n              上一步\n            </Button>\n          </div>\n        </div>\n        <Modal\n          title=\"所选系统及系统配置\"\n          visible={this.state.modalVisible}\n          onOk={this.handleOk}\n          onCancel={() => this.setState({ modalVisible: false })}\n          okText=\"确定\"\n          cancelText=\"取消\"\n        >\n          <Spin spinning={okLoading}>\n            <Form>\n              <FormItem label=\"系统\" {...formItemLayout}>\n                {this.getSystem()}\n              </FormItem>\n              <FormItem label=\"端口号\" {...formItemLayout}>\n                {this._values.port}\n              </FormItem>\n              <FormItem label=\"CPU 核数\" {...formItemLayout}>\n                {this._values.cpu} 核\n              </FormItem>\n              <FormItem label=\"空间大小\" {...formItemLayout}>\n                {this._values.mem} M（{(this._values.mem / 1024).toFixed(2)} G）\n              </FormItem>\n              <FormItem label=\"使用时长\" {...formItemLayout}>\n                {this._values.timeout} 小时\n              </FormItem>\n            </Form>\n          </Spin>\n        </Modal>\n      </Spin>\n    );\n  }\n}\n\nexport default SelectSystemConfig;\n","import SelectSystemConfig from './SelectSystemConfig';\nexport default SelectSystemConfig;","import React, { Component } from \"react\";\nimport \"./App.scss\";\nimport Typed from \"typed.js\";\nimport { getOSList, getOSUrl, removeContainerById } from \"./util/api\";\nimport LoadingScreen from \"react-loading-screen\";\n\nimport { getItem, setItem, rmItem } from \"./util/util\";\nimport { Button, Tooltip, Divider } from \"antd\";\nimport SelectSystemConfig from \"./components/SelectSystemConfig\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    const { isExistContainer, container } = this.isExistContainer();\n\n    this.state = {\n      open: false,\n      osList: [],\n      selectedVersion: {},\n      selectedOS: {},\n      timeout: 24,\n      cpu: 1,\n      memory: 512,\n      port: 80,\n      container,\n      isExistContainer,\n      screenLoading: false\n    };\n  }\n\n  componentDidMount = () => {\n    this.getOSList();\n    this.subscribeEvent();\n\n    this.typed = new Typed(\".app__desc-content\", {\n      strings: [\n        `Want to experiment with something on a Linux distribution? Let's start!`\n      ],\n      typeSpeed: 50\n    });\n  };\n\n  componentWillUnmount = () => {};\n\n  isExistContainer = () => {\n    let containerInfo = getItem(\"containerInfo\");\n    if (!containerInfo) {\n      return { isExistContainer: false, container: {} };\n    }\n    containerInfo = JSON.parse(containerInfo);\n    const curTime = Math.floor(new Date().getTime() / 1000);\n    // 未过期\n    if (curTime < containerInfo.timeout) {\n      return { isExistContainer: true, container: containerInfo };\n    }\n  };\n\n  subscribeEvent = () => {};\n\n  getOSList = async () => {\n    this.p1 = getOSList();\n    let res;\n    try {\n      res = await this.p1.promise;\n    } catch (err) {\n      return console.error(err);\n    }\n    const osList = res;\n    if (osList.length) {\n      osList[0].selected = true;\n    }\n    this.setState({ osList });\n  };\n\n  handleStartClick = () => {};\n\n  handleClose = () => {\n    this.setState({ open: false });\n  };\n\n  handleOSSelect = selectedOS => {\n    const osList = [...this.state.osList];\n\n    const i = osList.findIndex(os => selectedOS.label === os.label);\n\n    osList.forEach((os, j) => {\n      if (i === j) {\n        os.selected = false;\n      }\n      os.selected = i === j;\n    });\n    this.setState({ osList });\n  };\n\n  handleOSVersionSelect = (selectedOS, selectedVersion) => {\n    this.setState({\n      open: true,\n      selectedOS,\n      selectedVersion\n    });\n  };\n\n  handleSelectAgain = async () => {\n    this.setState({ screenLoading: true, screenText: \"删除中...\" });\n    const { container } = this.state;\n    const timestamp = Math.floor(new Date().getTime() / 1000);\n    this.p3 = removeContainerById(\n      container.containerId,\n      container.shareUrl,\n      timestamp\n    );\n    let res;\n    try {\n      res = await this.p3.promise;\n    } catch (err) {\n      return console.error(err);\n    }\n    if (res.statusCode !== 1) {\n      this.setState({ screenLoading: false });\n      return console.error(res.message);\n    }\n    this.setState({\n      isExistContainer: false,\n      container: {},\n      screenLoading: false\n    });\n    rmItem(\"containerInfo\");\n  };\n\n  handleOkCallback = (isExistContainer, container) => {\n    this.setState({ isExistContainer, container });\n  };\n\n  render() {\n    const { isExistContainer, screenLoading, screenText } = this.state;\n    return (\n      <LoadingScreen\n        loading={screenLoading}\n        bgColor=\"#d0d0d0\"\n        spinnerColor=\"#252525\"\n        textColor=\"#676767\"\n        text={screenText}\n      >\n        <div className=\"app\">\n          <h1 className=\"app__title\">\n            <span className=\"app__title-span\">\n              Super Inspire\n              {/* <span className=\"app__title-icon\" /> */}\n            </span>\n          </h1>\n          <div className=\"app__desc\">\n            <div className=\"app__text-editor-wrap\">\n              <div className=\"app__title-bar\">\n                Arch\n                Linux/Debian/CentOS/Defora/Ubuntu/Ubuntu衍生版/Deepin/LineageOS/openSUSE\n              </div>\n              <div className=\"app__text-body\">\n                <span style={{ marginRight: 10 }}>$</span>\n                <span className=\"app__desc-content\" />\n              </div>\n            </div>\n          </div>\n\n          <Divider style={{ marginTop: 100 }}>\n            {isExistContainer ? \"您已创建系统\" : \"选择系统配置\"}\n          </Divider>\n\n          <div className=\"app__os-list\">\n            {isExistContainer ? (\n              <div style={{ marginTop: 100, textAlign: \"center\" }}>\n                <Tooltip title=\"若打开的页面报错，请重新点击\">\n                  <Button\n                    size=\"large\"\n                    color=\"primary\"\n                    variant=\"outlined\"\n                    onClick={() => {\n                      const containerInfo = JSON.parse(\n                        getItem(\"containerInfo\")\n                      );\n                      window.open(containerInfo.shareUrl);\n                    }}\n                    style={{ margin: 10 }}\n                  >\n                    打开已创建的系统\n                  </Button>\n                </Tooltip>\n\n                <Button\n                  size=\"large\"\n                  color=\"secondary\"\n                  variant=\"outlined\"\n                  onClick={this.handleSelectAgain}\n                  style={{ margin: 10 }}\n                >\n                  重新选择\n                </Button>\n              </div>\n            ) : (\n              <SelectSystemConfig okCallback={this.handleOkCallback} />\n            )}\n          </div>\n        </div>\n      </LoadingScreen>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport 'antd/dist/antd.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}